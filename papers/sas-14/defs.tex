
% put this in the beginning of a paragraph and Latex will
% automatically try to make it one line shorter, if possible
\newcommand{\squeezetext}{\looseness -1}

% - ignore command
\newcommand{\ignore}[1]{}
\newcommand{\forget}[1]{}


\newcommand{\ie}{i.e.\ }
%\newcommand{\ie}{i.e.}

\newcommand{\myparagraph}[1]{\paragraph{#1}}
\renewcommand{\myparagraph}[1]{\medbreak\noindent{\bf #1}}


%% -------------------------------------
%% STATES
%% -------------------------------------

%% Word of states: Slightly overlapping bubbles, the second argument is the color
\newcommand{\w}[2][w]{%
\mbox{%
\begin{tikzpicture}[baseline=(matrix.base)]%
  \def\mk{\node[state,state-#1]}
  \let\mycontent\empty
  \foreach \c in {#2}{%
    \expandafter\gappto\expandafter\mycontent\expandafter{\expandafter\mk\expandafter{\c}; \&[-2pt]}%
  }%\gappto\mycontent{\\}%
  \matrix (matrix) [matrix of nodes,ampersand replacement=\&] { \mycontent \\ };
\end{tikzpicture}\hspace{2pt}%
}%
}

%% Word of states with contexts around
\newcommand{\wc}[2][]{%
\mbox{%
\begin{tikzpicture}[baseline=(matrix.base)]%
  \def\mk{\node[state,state-w]}
  \def\mkc{\node[context]}
  \let\mycontent\empty
  \foreach \c/\r in {#2}{%
    \expandafter\gappto\expandafter\mycontent\expandafter{\expandafter\mk\expandafter{\c}; \&}%
    \expandafter\gappto\expandafter\mycontent\expandafter{\expandafter\mkc\expandafter{\r}; \&}%
  }%\gappto\mycontent{\\}%
  \matrix (matrix) [matrix of nodes,ampersand replacement=\&] { \expandafter\mkc\expandafter{#1}; \& \mycontent \\};
\end{tikzpicture}%
}%
}


%% -------------------------------------
%% MATH STUFF
%% -------------------------------------
%\newcommand{\set}[1]{\left\{#1\right\}}
\newcommand{\set}[1]{\{#1\}}
%\newcommand{\setcomp}[2]{\{{#1}\mathrel{}\middle|\mathrel{}{#2}\}}
%\newcommand{\setcomp}[2]{\set{#1\mid\;#2}}
\newcommand{\setcomp}[2]{\{{#1}\mathrel{}\mid\mathrel{}{#2}\}}

\newcommand{\subword}{\sqsubseteq}
\newcommand{\word}[3][0]{{#2}_{#1}  \ldots  {#2}_{#3}}
\newcommand{\vect}[2]{\word{#1}{#2}}
\newcommand{\union}{\cup}
\newcommand{\intersection}{\cap}
\newcommand{\nat}{\mathbb N}
\newcommand{\sizeof}[1]{|#1|}
%\newcommand{\strue}{\emph{true}}
%\newcommand{\sfalse}{\emph{false}}
\newcommand{\strue}{\textsf{tt}}
\newcommand{\sfalse}{\textsf{ff}}
%\newcommand{\sdunno}{{\mbox\textonehalf}}
\newcommand{\sdunno}{{\nicefrac{1}{2}}}
\newcommand{\notdefined}{\bot}
%\newcommand{\undef}{\notdefined}
% \newcommand{\entails}{\preceq}
% \newcommand{\sentails}{\preceq_=}
% \newcommand{\entails}{\sqsubseteq}
% \newcommand{\sentails}{\sqsubseteq_\bullet}
\newcommand{\entails}{\preccurlyeq}
\newcommand{\entailedby}{\succcurlyeq}
\newcommand{\minsetof}[1]{\lfloor #1 \rfloor}
% \newcommand{\sentails}{\triangleleft}
%\newcommand{\sentails}{\sqsupseteq}
%\newcommand{\sentailed}{\sqsubseteq}
\newcommand{\sentails}{\succeq}
\newcommand{\sentailed}{\preceq}
\newcommand{\minsetunion}{\sqcup}

%\newcommand{\implies}{\rightarrow}
\newcommand{\equivalent}{\Leftrightarrow}

\newcommand{\A}{\mathbb{A}}
\newcommand{\setsof}[1]{\mathbb{P}(#1)}

\newcommand{\range}[2]{\llbracket{#1};{#2}\rrbracket}
\newcommand{\rangeopen}[2]{\rrbracket{#1};{#2}\llbracket}
\newcommand{\rangesopen}[2]{\rrbracket{#1};{#2}\rrbracket}
% \newcommand{\range}[2]{[{#1};{#2}]}
% \newcommand{\rangeopen}[2]{{#1};{#2}\llbracket}
% \newcommand{\rangesopen}[2]{\rrbracket{#1};{#2}\rrbracket}
\newcommand{\spanof}[2]{\mathit{span}_{#1}(#2)}
\newcommand{\status}[2]{\mathit{status}({#1},{#2})}

%% -------------------------------------
%% Barrier example
%% -------------------------------------
\newcommand{\sP}{\textsc{p}}
\newcommand{\sW}{\textsc{w}}
\newcommand{\sA}{\textsc{a}}
\newcommand{\sB}{\textsc{b}}


%% -------------------------------------
%% PARAM SYS
%% -------------------------------------
\newcommand{\loc}{s}
\newcommand {\locs}{Q}
\newcommand{\flag}{\mathit{flag}}
\newcommand{\state}[1]{\loc_{#1}}
\newcommand{\witnesses}{S}

%\newcommand{\context}{R}
%\newcommand{\basis}{b}

\newcommand{\system}{\transys}
\newcommand{\systemof}[1]{\mathit{system_#1}}

\newcommand{\inits}{\mathit{I}}
\newcommand{\trans}{\rightarrow}
\newcommand{\snake}{\leadsto}
\newcommand{\confs}{\mathcal C}
\newcommand{\conf}{c}
\newcommand{\reach}{\mathcal{R}}

\newcommand{\vinits}{V_{init}}
\newcommand{\worklist}{\texttt{W}}
\newcommand{\visited}{\texttt{V}}


\newcommand{\transof}[1]{\trans_{#1}}
\newcommand{\initsof}[1]{\inits_#1}
\newcommand{\snakeof}[1]{\snake_#1}
\newcommand{\confsof}[1]{\confs_{#1}}
\newcommand{\reachof}[1]{\reach_{#1}}

\newcommand{\safe}{\mathit{Safe}}
\newcommand{\unsafe}{\mathit{Unsafe}}
\newcommand{\minbad}{B}
\newcommand{\bad}{\mathit{Bad}}

\newcommand{\rules}{\Delta}
\newcommand{\parsys}{{\mathcal P}}
\newcommand{\transys}{{\mathcal T}}
\newcommand{\csubword}{\trianglelefteq}
\newcommand{\ucl}{{\uparrow}}
\newcommand{\dcl}{{\downarrow}}
\newcommand{\rel}{R}

\newcommand{\constraint}[1]{\llbracket{#1}\rrbracket}

%% --------------------------------------
\newcommand{\abstr}{\alpha}
\newcommand{\concretize}{\gamma}

\newcommand{\abstractof}[1]{\abstr_{#1}}
\newcommand{\abstrof}{\abstractof}
\newcommand{\project}[2]{\abstr_{#1}(#2)}
\newcommand{\concretizeof}[2]{\gamma_{#1}(#2)}
\newcommand{\concrof}[1]{\gamma_{#1}}
\newcommand{\concretizeoflim}[3]{\gamma_{#1}^{#2}(#3)}
\newcommand{\minabstrof}[1]{\minsetof{\abstr_{#1}}}

\newcommand {\mk}[1]{{#1}^\bullet}
\newcommand {\view}{v}
\newcommand {\proj}[2]{\Pi_{#1}(#2)}
\newcommand {\tproj}[2]{\Pi_{#1}^\circ(#2)}
\newcommand {\naproj}[2]{\Pi'_{#1}(#2)}
\newcommand {\viewsof}[1]{\mathcal{V}_{#1}}
\newcommand {\views}{\mathcal{V}}
\newcommand {\viewsofupto}[1]{\mathcal{V}_{\leq #1}}
\newcommand {\badviewsof}[1]{\mathcal{V}_#1^\bad}
\newcommand {\badviews}{\mathcal{V}^\bad}

\newcommand {\post}{\mathit{post}}
\newcommand {\postof}[1]{{\mathit{post}}(#1)}
\newcommand {\spost}{\mathit{spost}}
\newcommand {\spostof}[1]{{\mathit{spost}}(#1)}
\newcommand {\apost}[1]{{\mathit{Apost}}_#1}
\newcommand {\apostof}[2]{{\mathit{Apost}}_#1(#2)}

\newcommand {\sdelta}{\delta^\#}

\newcommand{\conc}[1]{{\mathcal{M}}(#1)}

\newcommand{\quantify}{\mathbb{Q}}
%\newcommand {\qtrans}[3]{\mathbf{if}\ #1\ \mathbf{then}\ #2\trans #3}
\newcommand{\forrule}[5]{ \KwSty{if~foreach}\ j\mathrel{#1}i: {#2} \ \KwSty{then}\ {#3}\trans {#4}\ \KwSty{else}\ {#3}\trans {#5} }

\newcommand{\quantrule}[5]{ \KwSty{if}\,{#3}~j\,{#4}\,i:\,{#5}\ \KwSty{then}\ {#1}\trans{#2}}

\newcommand{\updateby}[2]{\ensuremath{\left[#1\leftarrow#2\right]}}

%% --------------------------------------
\newcommand {\pos}{p}
\newcommand {\node}{v}
\newcommand {\nodes}{N}
\newcommand{\tick}{\checkmark}
\newcommand{\tickof}[2]{\checkmark({#1},{#2})}

%% --------------------------------------
\newcommand{\makehighgroup}[4][]{
  \draw[blue!70!red,#1] (#2.north west) ++(0,1mm) -- +(0,1mm) -- ([yshift=2mm]#3.north east) coordinate[midway](n#4) -- +(0,-1mm);
}
\newcommand{\makelowgroup}[4][]{
  \draw[#1] (#2.south west) ++(0,-1mm) -- +(0,-0.5mm) -- ([yshift=-1.5mm]#3.south east) coordinate[midway](p#4) -- +(0,0.5mm);
}
\newcommand{\restrict}[2]{{#1}{\downharpoonright_{#2}}}

%unsorted

\newcommand{\img}{\mathit{img}}
\newcommand{\dom}{\mathit{dom}}

\newcommand{\hitch}{\mathit{open}}
\newcommand{\unticked}{\rho}%\xi \chi
\newcommand{\base}{\mathit{base}}
\renewcommand{\next}{\mathit{next}}
\newcommand{\importantof}[1]{\mathit{important}[#1]}
\renewcommand{\le}{{\dashv}}
\newcommand{\re}{{\vdash}}

\newcommand{\imap}{h}
\newcommand{\imapf}{f}
\newcommand{\imapg}{g}
\newcommand{\imapplus}{h_+}
\newcommand{\imapminus}{h_-}
\newcommand{\imapprime}{h'}
\newcommand{\imapsof}[2]{H_{#1}^{#2}}
%\renewcommand{\proj}[2]{\Pi_{#1}(#2)}
\renewcommand{\apost}{\Delta^{\#}_k}
%\renewcommand{\apost}{\abstractof k\circ\Delta\circ{\max}\circ\gamma_k^{k+2}}
%\renewcommand{\proj}[2]{#2 {\downharpoonright}_{{#1}}}

\newcommand{\inputtikz}[1]{#1}
%\renewcommand{\inputtikz}[1]{ }
